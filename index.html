<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  text-align:center;
}
.page{display:none;min-height:100vh;padding:40px 20px;}
.page.active{display:block;}

h1,h2,p{color:#b3003c;}
button{
  padding:14px 28px;
  margin:12px;
  border:none;
  border-radius:30px;
  font-size:18px;
  background:#ff4d6d;
  color:white;
  cursor:pointer;
}
button:hover{opacity:.9}

/* hearts background */
.heart{
  position:fixed;
  bottom:-20px;
  font-size:20px;
  animation:float 8s linear infinite;
  pointer-events:none;
}
@keyframes float{
  from{transform:translateY(0)}
  to{transform:translateY(-110vh)}
}

/* puzzle */
#puzzleBoard{
  width:300px;
  height:300px;
  margin:20px auto;
  display:grid;
  grid-template-columns:repeat(3,1fr);
  grid-template-rows:repeat(3,1fr);
}
.tile{
  width:100px;
  height:100px;
  background-size:300px 300px;
  cursor:grab;
}

/* quiz */
.option{display:block;margin:10px auto;max-width:320px;}
.shake{animation:shake .4s}
@keyframes shake{25%{transform:translateX(-5px)}50%{transform:translateX(5px)}75%{transform:translateX(-5px)}}

/* letter */
.letter{
  max-width:600px;
  margin:30px auto;
  background:rgba(255,255,255,.85);
  padding:30px;
  border-radius:20px;
  line-height:1.6;
}
</style>
</head>
<body>

<audio id="music" loop>
  <source src="thousand-years.mp3" type="audio/mpeg">
</audio>

<!-- PAGE 1 -->
<div class="page active" id="p1">
  <h1>Will you be my Valentine? üíñ</h1>
  <button onclick="go(2)">Yes</button>
  <button onclick="go(2)">Yessss</button>
  <button onclick="go(2)">Fucking Yess</button>
</div>

<!-- PAGE 2 -->
<div class="page" id="p2">
  <h2>Choose our moment üíû</h2>
  <img src="img1.jpg" width="200" onclick="startPuzzle('img1.jpg')">
  <img src="img2.jpg" width="200" onclick="startPuzzle('img2.jpg')">
  <img src="img3.jpg" width="200" onclick="startPuzzle('img3.jpg')">
</div>

<!-- PAGE 3 -->
<div class="page" id="p3">
  <h2>Complete the puzzle üß©</h2>
  <div id="puzzleBoard"></div>
  <button onclick="verifyPuzzle()">Next</button>
</div>

<!-- PAGE 4 -->
<div class="page" id="p4">
  <h2>How well do you know me? üí≠</h2>
  <p id="score">0 / 5</p>
  <div id="quiz"></div>
</div>

<!-- PAGE 5 -->
<div class="page" id="p5">
  <h1>üíå Just One Last Thing‚Ä¶</h1>
  <div class="letter">
    <p>Hey you,</p>
    <p>Loving you has been one of the most beautiful things that has happened to me.</p>
    <p>Somewhere between chaos and comfort, you became my safe place.</p>
    <p>I may not always show it, but my heart chooses you ‚Äî always.</p>
    <p><strong>Happy Valentine‚Äôs Day ‚ù§Ô∏è</strong></p>
  </div>
</div>

<script>
function go(n){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById('p'+n).classList.add('active');
  document.getElementById('music').play();
}

/* hearts */
for(let i=0;i<25;i++){
  let h=document.createElement('div');
  h.className='heart';
  h.innerHTML='‚ù§Ô∏è';
  h.style.left=Math.random()*100+'vw';
  h.style.animationDuration=5+Math.random()*5+'s';
  document.body.appendChild(h);
}

/* puzzle */
let dragged=null;
function startPuzzle(img){
  go(3);
  const b=document.getElementById('puzzleBoard');
  b.innerHTML='';
  let a=[0,1,2,3,4,5,6,7,8].sort(()=>Math.random()-0.5);
  a.forEach(p=>{
    let t=document.createElement('div');
    t.className='tile';
    t.dataset.correct=p;
    t.style.backgroundImage=`url(${img})`;
    t.style.backgroundPosition=`${-(p%3)*100}px ${-Math.floor(p/3)*100}px`;
    t.draggable=true;
    t.ondragstart=()=>dragged=t;
    t.ondragover=e=>e.preventDefault();
    t.ondrop=e=>{
      e.preventDefault();
      let bp=dragged.style.backgroundPosition;
      let dc=dragged.dataset.correct;
      dragged.style.backgroundPosition=t.style.backgroundPosition;
      dragged.dataset.correct=t.dataset.correct;
      t.style.backgroundPosition=bp;
      t.dataset.correct=dc;
    };
    b.appendChild(t);
  });
}
function verifyPuzzle(){
  let ok=true;
  document.querySelectorAll('.tile').forEach((t,i)=>{if(+t.dataset.correct!==i)ok=false});
  if(ok){go(4);loadQuiz()}else alert('Almost there üòè');
}

/* quiz */
const quizData=[
 {q:'What is my favourite colour?',o:['Black','Pink','Blue','Purple'],a:2},
 {q:'What do I prefer more?',o:['Coffee','Tea','Red Bull','I don‚Äôt need caffeine, I need you üòå'],a:3},
 {q:'What annoys me the most?',o:['Being late','Not replying','Messy rooms','All of the above'],a:2},
 {q:'My ideal date looks like?',o:['Candle light dinner','Long drive + music','Netflix + food + cuddles','All with you ‚ù§Ô∏è'],a:3},
 {q:'One thing I secretly love?',o:['Compliments','Being pampered','Random surprises','All of this üò§'],a:3}
];
let qi=0,score=0;
function loadQuiz(){
  const q=quizData[qi];
  const box=document.getElementById('quiz');
  box.innerHTML=`<h3>${q.q}</h3>`;
  q.o.forEach((o,i)=>{
    let b=document.createElement('button');
    b.className='option';
    b.innerText=o;
    b.onclick=()=>checkAnswer(b,i);
    box.appendChild(b);
  });
}
function checkAnswer(btn,i){
  if(i===quizData[qi].a){
    score++;qi++;
    document.getElementById('score').innerText=`${score} / 5`;
    qi<quizData.length?loadQuiz():go(5);
  }else{
    btn.classList.add('shake');
    setTimeout(()=>btn.classList.remove('shake'),400);
  }
}
</script>
</body>
</html>
