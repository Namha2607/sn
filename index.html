<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
  overflow:hidden;
  text-align:center;
}
.page{display:none;height:100vh;padding:40px 20px;position:relative;}
.page.active{display:block;}

h1,h2,p{color:#b3003c;}
button{
  position:relative;
  z-index:5;
  padding:14px 30px;
  margin:10px;
  border:none;
  border-radius:30px;
  font-size:18px;
  background:#ff4d6d;
  color:white;
  cursor:pointer;
  transition:transform .2s;
}
button:hover{transform:scale(1.08)}

/* floating hearts */
.heart{position:absolute;color:rgba(255,0,90,0.4);font-size:20px;animation:float 8s linear infinite;pointer-events:none;z-index:1;}
@keyframes float{0%{transform:translateY(100vh);}100%{transform:translateY(-10vh);}}

/* juggling YES buttons */
.juggle{position:absolute;animation:juggle 2.5s ease-in-out infinite;}
.juggle:nth-child(1){left:20%;animation-delay:0s}
.juggle:nth-child(2){left:45%;animation-delay:.4s}
.juggle:nth-child(3){left:70%;animation-delay:.8s}
@keyframes juggle{0%{top:70%;}50%{top:40%;}100%{top:70%;}}

/* image choice */
.choice img{width:200px;margin:15px;border-radius:15px;cursor:pointer;opacity:0;animation:fadeInUp 1.2s ease forwards;}
.choice img:nth-child(1){animation-delay:.2s}
.choice img:nth-child(2){animation-delay:.5s}
.choice img:nth-child(3){animation-delay:.8s}
@keyframes fadeInUp{from{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}

/* puzzle */
#puzzleBoard{width:300px;height:300px;margin:30px auto;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);gap:2px;}
.tile{width:100px;height:100px;background-size:300px 300px;border-radius:6px;cursor:grab;opacity:0;animation:tileFade .6s ease forwards;}
@keyframes tileFade{from{opacity:0;transform:scale(.7)}to{opacity:1;transform:scale(1)}}

/* quiz */
.option{display:block;margin:12px auto;max-width:320px;}
.shake{animation:shake .4s}
@keyframes shake{25%{transform:translateX(-5px)}50%{transform:translateX(5px)}75%{transform:translateX(-5px)}}

/* progress bar */
#bar{height:10px;width:0;background:#ff4d6d;border-radius:10px;transition:.4s}
#barWrap{width:80%;margin:10px auto;background:#ffd1dc;border-radius:10px}

canvas{position:fixed;inset:0;pointer-events:none;z-index:1;}
</style>
</head>
<body>

<audio id="music" loop autoplay muted>
  <source src="thousand-years.mp3" type="audio/mpeg">
</audio>
<canvas id="fx"></canvas>

<!-- PAGE 1 -->
<div class="page active" id="p1">
  <h1>Will you be my Valentine? üíñ</h1>
  <p>Catch a YES üòè</p>
  <button class="juggle" onclick="go(2)">YES</button>
  <button class="juggle" onclick="go(2)">YESS</button>
  <button class="juggle" onclick="go(2)">FUCKING YES</button>
</div>

<!-- PAGE 2 -->
<div class="page" id="p2">
  <h2>Choose our moment üíû</h2>
  <div class="choice">
    <img src="img1.jpg" onclick="startPuzzle('img1.jpg')">
    <img src="img2.jpg" onclick="startPuzzle('img2.jpg')">
    <img src="img3.jpg" onclick="startPuzzle('img3.jpg')">
  </div>
</div>

<!-- PAGE 3 -->
<div class="page" id="p3">
  <h2>Complete the puzzle üß©</h2>
  <div id="puzzleBoard"></div>
  <button onclick="verifyPuzzle()">Next</button>
</div>

<!-- PAGE 4 -->
<div class="page" id="p4">
  <h2>How well do you know me? üí≠</h2>
  <div id="barWrap"><div id="bar"></div></div>
  <p id="score">0 / 5</p>
  <div id="quiz"></div>
</div>

<!-- PAGE 5 : FINAL LETTER -->
<div class="page" id="p5">
  <h1>üíå Just One Last Thing‚Ä¶</h1>
  <div class="letter">
    <p>Hey you,</p>
    <p>I don‚Äôt know if I say this enough, but loving you has been one of the most beautiful things that‚Äôs happened to me.</p>
    <p>Somewhere between laughter, fights, silly moments, and quiet comfort, you became my safe place.</p>
    <p>I know I don‚Äôt always show it well, but my heart has always chosen you.</p>
    <p><strong>Happy Valentine‚Äôs Day, my love ‚ù§Ô∏è</strong></p>
    <p style="margin-top:30px;">Forever yours,<br><strong>üíñ</strong></p>
  </div>
</div>

<script>
function go(n){document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));document.getElementById('p'+n).classList.add('active');document.getElementById('music').play();}

for(let i=0;i<40;i++){let h=document.createElement('div');h.className='heart';h.innerHTML='‚ù§Ô∏è';h.style.left=Math.random()*100+'vw';h.style.animationDuration=5+Math.random()*5+'s';document.body.appendChild(h)}

/* puzzle */
let dragged=null;
function startPuzzle(img){go(3);const b=document.getElementById('puzzleBoard');b.innerHTML='';let a=[0,1,2,3,4,5,6,7,8].sort(()=>Math.random()-0.5);a.forEach((p,i)=>{let t=document.createElement('div');t.className='tile';t.dataset.correct=p;t.style.backgroundImage=`url(${img})`;t.style.backgroundPosition=`${-(p%3)*100}px ${-Math.floor(p/3)*100}px`;t.draggable=true;t.style.animationDelay=i*.08+'s';t.ondragstart=()=>dragged=t;t.ondragover=e=>e.preventDefault();t.ondrop=e=>{e.preventDefault();let bp=dragged.style.backgroundPosition,dc=dragged.dataset.correct;dragged.style.backgroundPosition=t.style.backgroundPosition;dragged.dataset.correct=t.dataset.correct;t.style.backgroundPosition=bp;t.dataset.correct=dc};
if(p===0||p===4){t.innerHTML='<span style="color:white;font-size:26px;font-weight:bold">S</span>'}
if(p===8){t.innerHTML='<span style="color:white;font-size:28px;font-weight:bold">N</span>'}
b.appendChild(t)})})`;t.style.backgroundPosition=`${-(p%3)*100}px ${-Math.floor(p/3)*100}px`;t.draggable=true;t.style.animationDelay=i*.08+'s';t.ondragstart=()=>dragged=t;t.ondragover=e=>e.preventDefault();t.ondrop=e=>{e.preventDefault();let bp=dragged.style.backgroundPosition,dc=dragged.dataset.correct;dragged.style.backgroundPosition=t.style.backgroundPosition;dragged.dataset.correct=t.dataset.correct;t.style.backgroundPosition=bp;t.dataset.correct=dc};b.appendChild(t)})}
function verifyPuzzle(){let ok=true;document.querySelectorAll('.tile').forEach((t,i)=>{if(+t.dataset.correct!==i)ok=false});ok?(fireworks(),go(4),loadQuiz()):alert('Almost there üòè')}

/* quiz */
const quizData=[
 {q:"What is my favourite colour?",o:["Black","Pink","Blue","Purple"],a:2},
 {q:"What do I prefer more?",o:["Coffee","Tea","Red Bull","I don‚Äôt need caffeine, I need you üòå"],a:3},
 {q:"What annoys me the most?",o:["Being late","Not replying","Messy rooms","All of the above"],a:2},
 {q:"My ideal date looks like?",o:["Candle light dinner","Long drive + music","Netflix + food + cuddles","All with you ‚ù§Ô∏è"],a:3},
 {q:"One thing I secretly love but won‚Äôt admit easily?",o:["Compliments","Being pampered","Random surprises","All of this (don‚Äôt expose me) üò§"],a:3}
];
let qi=0,score=0;
function loadQuiz(){const q=quizData[qi];const box=document.getElementById('quiz');box.innerHTML=`<h3>${q.q}</h3>`;q.o.forEach((o,i)=>{let b=document.createElement('button');b.className='option';b.innerText=o;b.onclick=()=>checkAnswer(b,i);box.appendChild(b)})}
function checkAnswer(btn,i){
  if(i===quizData[qi].a){
    score++;
    heartBurst();
    qi++;
    document.getElementById('score').innerText=`${score} / 5`;
    document.getElementById('bar').style.width=(score/5*100)+'%';
    qi<quizData.length?loadQuiz():go(5)
  }else{
    btn.classList.add('shake');
    brokenHearts();
    setTimeout(()=>btn.classList.remove('shake'),400);
  }
} / 5`;document.getElementById('bar').style.width=(score/5*100)+'%';qi<quizData.length?loadQuiz():go(5)}else{btn.classList.add('shake');setTimeout(()=>btn.classList.remove('shake'),400);alert('Wrong üòè Try again')}}

/* fireworks */
const c=document.getElementById('fx'),ctx=c.getContext('2d');c.width=innerWidth;c.height=innerHeight;let parts=[];function fireworks(){for(let i=0;i<120;i++)parts.push({x:Math.random()*c.width,y:Math.random()*c.height/2,vx:(Math.random()-.5)*6,vy:(Math.random()-.5)*6,l:80})}(function anim(){ctx.clearRect(0,0,c.width,c.height);parts.forEach((p,i)=>{p.x+=p.vx;p.y+=p.vy;p.l--;ctx.fillStyle='hsl('+Math.random()*360+',100%,60%)';ctx.fillRect(p.x,p.y,3,3);if(p.l<=0)parts.splice(i,1)});requestAnimationFrame(anim)})();

/* heart effects */
function heartBurst(){
  for(let i=0;i<25;i++){
    let h=document.createElement('div');
    h.innerHTML='‚ù§Ô∏è';
    h.style.position='fixed';
    h.style.left=Math.random()*100+'vw';
    h.style.top=Math.random()*100+'vh';
    h.style.fontSize='24px';
    h.style.animation='pop 1.5s ease forwards';
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),1500);
  }
}

function brokenHearts(){
  for(let i=0;i<20;i++){
    let h=document.createElement('div');
    h.innerHTML='üíî';
    h.style.position='fixed';
    h.style.left=Math.random()*100+'vw';
    h.style.top=Math.random()*100+'vh';
    h.style.fontSize='26px';
    h.style.animation='fall 2s linear forwards';
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),2000);
  }
}

</script>
<style>
@keyframes pop{0%{transform:scale(.2);opacity:0}70%{transform:scale(1.3);opacity:1}100%{opacity:0}}
@keyframes fall{from{transform:translateY(-20px);opacity:1}to{transform:translateY(120vh);opacity:0}}
</style>


</body>
</html>
